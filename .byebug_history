c
be_a_new(Loan)
expect(assigns(:loan))
c
eq(wallet)
expect(assigns(:wallet))
c
eq([loan])
expect(assigns(:loans))
c
eq([loan])
expect(assigns(:loans))
c
loan.user.wallet.amount < total_to_repay
loan.total_repay_amount
c
loan.repay_amount
loan
c
loan
loan.repay_amount
total_to_repay
loan.user.wallet.amount
loan.user.wallet.amount < total_to_repay
c
total_to_repay
loan.user.wallet.amount
loan.user.wallet.amount < total_to_repay
c
loan.user.wallet 
loan.user.wallet.amount 
c
total_to_repay
loan.user.wallet.amount
loan.repay_amount
total_to_repay
loan.user.wallet.amount < total_to_repay
total_to_repay
loan.user.wallet.amount
c
n
total_amount
c
n
admin_wallet.amount >= amount
n
c
update!(state: 'open')
state
n
amount
n
admin_wallet.debit(amount)
amount
n
admin.wallet
n
User.find_by(role: 'admin')
admin
c
self.amount -= amount
self.amount
self
wallet
self.wallet -= amount
amount
c
n
self.wallet
self
c
self.loans.wallet
self.loans
self.loan
self
c
loan.interest_rate
c
loan.interest_rate
c
@loan.interest_rate
n
params[:loan][:interest_rate]
c
sprintf("%.2f", loan.interest_rate * 10)
sprintf("%.2f", loan.interest_rate * 100)
c
sprintf("%.2f", loan.interest_rate * 100)
c
sprintf("%.2f", loan.interest_rate * 100)
c
sprintf("%.2f", loan.interest_rate * 100)
c
sprintf("%.2f", loan.interest_rate * 100)
sprintf("%.2f", loan.interest_rate * 10)
loan.interest_rate
sprintf("%.2f", loan.interest_rate )
c
sprintf("%.2f", loan.interest_rate )
sprintf("%.2f", loan.interest_rate * 100)
loan.interest_rate
c
sprintf("%.2f", loan.interest_rate * 100)
loan.interest_rate
loan
c
params[:loan][:interest_rate]
params
@loan
c
@loan = Loan.find(params[:id])
c
n
@loan = Loan.find(params[:id])
c
n
@loan = Loan.find(params[:id])
c
@loan = Loan.find(params[:id])
c
n
@loan = Loan.find(params[:id])
c
@loan = Loan.find_by(params[:id])
c
Loan.find('3')
Loan.find_by('3')
Loan.find_by(3)
Loan.find_by(params[:id])
params[:id]
params
@loan = Loan.find_by(params[:id])
c
params
params[:loan]
@loan
n
@loan = Loan.find_by(params[:id])
c
n
@loan = Loan.find_by(params[:id])
Loan.find_by(params[:id])
params[:id]
params
